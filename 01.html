<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<input id="jieliu" />
		<input id="fangdou" />
	</body>
	<script>
		function request(arg) {
			console.log(arg)
		}
		// 防抖

		let input2 = document.getElementById('fangdou');
		input2.addEventListener('keyup', function(e) {
			console.log(1)
			fangdouAjax(e.target.value);
		})
		let fangdouAjax = fangdou(request, 1000)
		function fangdou(fn,wait){
			let timeout ;
			return function(...args){
				clearTimeout(timeout)
				timeout = setTimeout(()=>{
					fn.apply(this,args)
				},wait)
			}
		}





		// 节流
		let input1 = document.getElementById('jieliu');
		input1.addEventListener('keyup', function(e) {
			console.log(2)
			jieliuAjax(e.target.value);
		})
		let jieliuAjax = jieliu(request, 1000)

		function jieliu(fn, wait) {
			let timeout = null;

			return function(...args) {
				if (!timeout) {
					timeout = setTimeout(() => {
						fn.apply(this, args)
						timeout = null
					}, wait);
				}
			}
		}
	</script>
</html>
